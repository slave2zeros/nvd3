/* nvd3 version 1.8.6-dev (https://github.com/novus/nvd3) 2019-01-09 */

!function(){var gt={dev:!1};gt.tooltip=gt.tooltip||{},gt.utils=gt.utils||{},gt.models=gt.models||{},gt.charts={},gt.logs={},gt.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),gt.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),gt.dev&&(gt.dispatch.on("render_start",function(t){gt.logs.startTime=+new Date}),gt.dispatch.on("render_end",function(t){gt.logs.endTime=+new Date,gt.logs.totalTime=gt.logs.endTime-gt.logs.startTime,gt.log("total",gt.logs.totalTime)})),gt.log=function(){if(gt.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(gt.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},gt.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},gt.render=function(r){r=r||1,gt.render.active=!0,gt.dispatch.render_start();var i=function(){for(var t,e,n=0;n<r&&(e=gt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);gt.render.queue.splice(0,n),gt.render.queue.length?setTimeout(i):(gt.dispatch.render_end(),gt.render.active=!1)};setTimeout(i)},gt.render.active=!1,gt.render.queue=[],gt.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),gt.render.queue.push(t),gt.render.active||gt.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=gt),"undefined"!=typeof window&&(window.nv=gt),gt.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},gt.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},gt.interactiveGuideline=function(){"use strict";var l={left:0,top:0},i=null,o=null,u=d3.scale.linear(),c=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),d=!0,f=null,p=gt.models.tooltip(),g=window.ActiveXObject;function h(t){t.each(function(t){var e=d3.select(this),a=i||960,s=o||400,n=e.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);function r(){var t=d3.event.clientX-this.getBoundingClientRect().left,e=d3.event.clientY-this.getBoundingClientRect().top,n=!0,r=!1;if(g&&(t=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(n=!1),d3.event.target.className.baseVal.match("nv-legend")&&(r=!0)),n&&(t-=l.left,e-=l.top),"mouseout"===d3.event.type||t<0||e<0||a<t||s<e||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||r){if(g&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(p.nvPointerEventsClass)))return;return c.elementMouseout({mouseX:t,mouseY:e}),h.renderGuideLine(null),void p.hidden(!0)}p.hidden(!1);var i=void 0;if("function"==typeof u.rangeBands){var o=d3.bisect(u.range(),t)-1;if(!(u.range()[o]+u.rangeBand()>=t))return c.elementMouseout({mouseX:t,mouseY:e}),h.renderGuideLine(null),void p.hidden(!0);i=u.domain()[d3.bisect(u.range(),t)-1]}else i=u.invert(t);c.elementMousemove({mouseX:t,mouseY:e,pointXValue:i}),"dblclick"===d3.event.type&&c.elementDblclick({mouseX:t,mouseY:e,pointXValue:i}),"click"===d3.event.type&&c.elementClick({mouseX:t,mouseY:e,pointXValue:i}),"mousedown"===d3.event.type&&c.elementMouseDown({mouseX:t,mouseY:e,pointXValue:i}),"mouseup"===d3.event.type&&c.elementMouseUp({mouseX:t,mouseY:e,pointXValue:i})}n.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),f&&(f.on("touchmove",r).on("mousemove",r,!0).on("mouseout",r,!0).on("mousedown",r,!0).on("mouseup",r,!0).on("dblclick",r).on("click",r),h.guideLine=null,h.renderGuideLine=function(e){d&&(h.guideLine&&h.guideLine.attr("x1")===e||gt.dom.write(function(){var t=n.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[gt.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",s).attr("y2",0),t.exit().remove()}))})})}return p.duration(0).hideDelay(0).hidden(!1),h.dispatch=c,h.tooltip=p,h.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.left=void 0!==t.left?t.left:l.left,h):l},h.width=function(t){return arguments.length?(i=t,h):i},h.height=function(t){return arguments.length?(o=t,h):o},h.xScale=function(t){return arguments.length?(u=t,h):u},h.showGuideLine=function(t){return arguments.length?(d=t,h):d},h.svgContainer=function(t){return arguments.length?(f=t,h):f},h},gt.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=d3.bisector(function(t,e){return r(t)-e}).left,o=d3.max([0,i(t,e)-1]),a=r(t[o]);if(void 0===a&&(a=o),a===e)return o;var s=d3.min([o+1,t.length-1]),l=r(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?o:s},gt.nearestValueIndex=function(t,r,i){"use strict";var o=1/0,a=null;return t.forEach(function(t,e){var n=Math.abs(r-t);null!=t&&n<=o&&n<i&&(o=n,a=e)}),a},gt.models.tooltip=function(){"use strict";var e="nvtooltip-"+Math.floor(1e5*Math.random()),n=null,l="w",u=25,r=0,i=null,c=!0,d=200,f=null,p={left:null,top:null},o=!0,g=100,a=!0,s="nv-pointer-events-none",h=function(t,e,n){return t},v=function(t){return t},m=function(t,e){return t},y=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));a&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return m(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return h(t.value,e,t)}),r.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},x=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},t=function(t){if(t&&t.series){if(gt.utils.isArray(t.series))return!0;if(gt.utils.isObject(t.series))return t.series=[t.series],!0}return!1},b=function(){gt.dom.read(function(){var t=x(),e=function(t){var e,n,r,i=f.node().offsetHeight,o=f.node().offsetWidth,a=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(l){case"e":e=-o-u,n=-i/2,t.left+e<0&&(e=u),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"w":e=u,n=-i/2,t.left+e+o>a&&(e=-o-u),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"n":e=-o/2-5,n=u,t.top+n+i>s&&(n=-i-u),(r=t.left+e)<0&&(e-=r),(r=t.left+e+o)>a&&(e-=r-a);break;case"s":e=-o/2,n=-i-u,t.top+n<0&&(n=u),(r=t.left+e)<0&&(e-=r),(r=t.left+e+o)>a&&(e-=r-a);break;case"center":e=-o/2,n=-i/2;break;default:n=e=0}return{left:e,top:n}}(t),n=t.left+e.left,r=t.top+e.top;if(c)f.interrupt().transition().delay(d).duration(0).style("opacity",0);else{var i="translate("+p.left+"px, "+p.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(r)+"px)",a=d3.interpolateString(i,o),s=f.style("opacity")<.1;f.interrupt().transition().duration(s?0:g).styleTween("transform",function(t){return a},"important").styleTween("-webkit-transform",function(t){return a}).style("-ms-transform",o).style("opacity",1)}p.left=n,p.top=r})};function k(){if(o&&t(n))return gt.dom.write(function(){f&&f.node()||((f=d3.select(document.body).selectAll("#"+e).data([1])).enter().append("div").attr("class","nvtooltip "+(i||"xy-tooltip")).attr("id",e).style("top",0).style("left",0).style("opacity",0).style("position","absolute").selectAll("div, table, td, tr").classed(s,!0).classed(s,!0),f.exit().remove());var t=y(n,f.node());t&&(f.node().innerHTML=t),b()}),k}return k.nvPointerEventsClass=s,k.options=gt.utils.optionsFunc.bind(k),k._options=Object.create({},{duration:{get:function(){return g},set:function(t){g=t}},gravity:{get:function(){return l},set:function(t){l=t}},distance:{get:function(){return u},set:function(t){u=t}},snapDistance:{get:function(){return r},set:function(t){r=t}},classes:{get:function(){return i},set:function(t){i=t}},enabled:{get:function(){return o},set:function(t){o=t}},hideDelay:{get:function(){return d},set:function(t){d=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return h},set:function(t){h=t}},headerFormatter:{get:function(){return v},set:function(t){v=t}},keyFormatter:{get:function(){return m},set:function(t){m=t}},headerEnabled:{get:function(){return a},set:function(t){a=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){gt.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){gt.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){gt.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,k())}},data:{get:function(){return n},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),n=t}},node:{get:function(){return f.node()},set:function(t){}},id:{get:function(){return e},set:function(t){}}}),gt.utils.initOptions(k),k},gt.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},gt.utils.isArray=Array.isArray,gt.utils.isObject=function(t){return null!==t&&"object"==typeof t},gt.utils.isFunction=function(t){return"function"==typeof t},gt.utils.isDate=function(t){return"[object Date]"===toString.call(t)},gt.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},gt.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):gt.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},gt.utils.getColor=function(t){if(void 0===t)return gt.utils.defaultColor();if(gt.utils.isArray(t)){var r=d3.scale.ordinal().range(t);return function(t,e){var n=void 0===e?t:e;return t.color||r(n)}}return t},gt.utils.defaultColor=function(){return gt.utils.getColor(d3.scale.category20().range())},gt.utils.customTheme=function(r,i,o){i=i||function(t){return t.key};var a=(o=o||d3.scale.category20().range()).length;return function(t,e){var n=i(t);return gt.utils.isFunction(r[n])?r[n]():void 0!==r[n]?r[n]:(a||(a=o.length),o[a-=1])}},gt.utils.pjax=function(n,r){var t=function(t){d3.html(t,function(t){var e=d3.select(r).node();e.parentNode.replaceChild(d3.select(t).select(r).node(),e),gt.utils.pjax(n,r)})};d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},gt.utils.calcApproxTextWidth=function(t){if(gt.utils.isFunction(t.style)&&gt.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return gt.utils.NaNtoZero(n*e*.5)}return 0},gt.utils.NaNtoZero=function(t){return!gt.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},gt.utils.renderWatch=function(t,e){if(!(this instanceof gt.utils.renderWatch))return new gt.utils.renderWatch(t,e);var o=void 0!==e?e:250,a=[],s=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,s.renderEnd("model")}),a.indexOf(t)<0&&a.push(t)}),this},this.reset=function(t){void 0!==t&&(o=t),a=[]},this.transition=function(n,r,t){if(t=1<(r=1<arguments.length?[].slice.call(arguments,1):[]).length?r.pop():void 0!==o?o:250,n.__rendered=!1,a.indexOf(n)<0&&a.push(n),0===t)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;0===n.length?n.__rendered=!0:n.every(function(t){return!t.length})?n.__rendered=!0:n.__rendered=!1;var i=0;return n.transition().duration(t).each(function(){++i}).each("end",function(t,e){0==--i&&(n.__rendered=!0,s.renderEnd.apply(this,r))})},this.renderEnd=function(){a.every(function(t){return t.__rendered})&&(a.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},gt.utils.deepExtend=function(o){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=gt.utils.isArray(o[e]),r=gt.utils.isObject(o[e]),i=gt.utils.isObject(t[e]);r&&!n&&i?gt.utils.deepExtend(o[e],t[e]):o[e]=t[e]}})},gt.utils.state=function(){if(!(this instanceof gt.utils.state))return new gt.utils.state;var n={},e=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(n,r){return r||(r=function(){}),e=function(t,e){n(t),e&&r()},this},this.init=function(t){i=i||{},gt.utils.deepExtend(i,t)};this.update=function(){i&&(e(i,!1),i=null),function(){var t=r();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)void 0===n[e]&&(n[e]={}),n[e]=t[e],!0;return!0}.call(this)&&this.dispatch.change(n)}},gt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){gt.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},gt.utils.calcTicksX=function(t,e){for(var n=1,r=0;r<e.length;r+=1){var i=e[r]&&e[r].values?e[r].values.length:0;n=n<i?i:n}return gt.log("Requested number of ticks: ",t),gt.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),gt.log("Calculating tick count as: ",t),t},gt.utils.calcTicksY=function(t,e,n){if(n){for(var r=1,i=0;i<e.length;i+=1)for(var o,a=e[i]&&e[i].values?e[i].values:[],s=0;s<a.length;s+=1)r=r<(o=a[s]&&n(a[s])?n(a[s]):0)?o:r;return gt.log("Requested number of ticks: ",t),gt.log("Calculated max values to be: ",r),t=(t=r<t?r-1:t)<1?1:t,t=Math.floor(t),gt.log("Calculating tick count as: ",t),t}return gt.utils.calcTicksX(t,e)},gt.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},gt.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var r in e=e.concat(n))gt.utils.initOption(t,e[r])},gt.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},gt.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},gt.utils.symbolMap=d3.map(),gt.utils.symbol=function(){var i,o=64;function e(t,e){var n=i.call(this,t,e),r=o.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(r)():gt.utils.symbolMap.get(n)(r)}return e.type=function(t){return arguments.length?(i=d3.functor(t),e):i},e.size=function(t){return arguments.length?(o=d3.functor(t),e):o},e},gt.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{}),i=e._inherited||[],o=e._d3options||[],a=n.concat(r).concat(i).concat(o);a.unshift(e),a.unshift(t),d3.rebind.apply(this,a),t._inherited=gt.utils.arrayUnique(n.concat(r).concat(i).concat(n).concat(t._inherited||[])),t._d3options=gt.utils.arrayUnique(o.concat(t._d3options||[]))},gt.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},gt.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},gt.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},gt.utils.availableHeight=function(t,e,n){return Math.max(0,gt.utils.sanitizeHeight(t,e)-n.top-n.bottom)},gt.utils.availableWidth=function(t,e,n){return Math.max(0,gt.utils.sanitizeWidth(t,e)-n.left-n.right)},gt.utils.noData=function(t,e){var n=t.options(),r=n.margin(),i=n.noData(),o=null==i?["No Data Available."]:[i],a=gt.utils.availableHeight(null,e,r),s=gt.utils.availableWidth(null,e,r),l=r.left+s/2,u=r.top+a/2;e.selectAll("g").remove();var c=e.selectAll(".nv-noData").data(o);c.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),c.attr("x",l).attr("y",u).text(function(t){return t})},gt.utils.wrapTicks=function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],i=0,o=e.attr("y"),a=parseFloat(e.attr("dy")),s=e.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",a+"em");t=n.pop();)r.push(t),s.text(r.join(" ")),s.node().getComputedTextLength()>l&&(r.pop(),s.text(r.join(" ")),r=[t],s=e.append("tspan").attr("x",0).attr("y",o).attr("dy",1.1*++i+a+"em").text(t))})},gt.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!gt.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},gt.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,r*r<=s&&s<=i*i&&o<=l&&l<=a},gt.models.axis=function(){"use strict";var h,v,m=d3.svg.axis(),y=d3.scale.linear(),x={top:0,right:0,bottom:0,left:0},b=75,e=60,k=null,w=!0,A=0,M=!0,C=!1,S=!1,N=null,E=0,F=void 0,n=250,t=d3.dispatch("renderEnd");m.scale(y).orient("bottom").tickFormat(function(t){return t});var _=gt.utils.renderWatch(t,n);function r(t){return _.reset(),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),r=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==N?m.ticks(N):"top"!=m.orient()&&"bottom"!=m.orient()||m.ticks(Math.abs(y.range()[1]-y.range()[0])/100),r.watchTransition(_,"axis").call(m),v=v||m.scale();var i=m.tickFormat();null==i&&(i=v.tickFormat());var o,a,s,l=r.selectAll("text.nv-axislabel").data([k||null]);switch(l.exit().remove(),void 0!==F&&r.selectAll("g").select("text").style("font-size",F),m.orient()){case"top":o=E+36,l.enter().append("text").attr("class","nv-axislabel"),s=0,1===y.range().length?s=S?2*y.range()[0]+y.rangeBand():0:2===y.range().length?s=S?y.range()[0]+y.range()[1]+y.rangeBand():y.range()[1]:2<y.range().length&&(s=y.range()[y.range().length-1]+(y.range()[1]-y.range()[0])),l.attr("text-anchor","middle").attr("y",-o).attr("x",s/2),w&&((a=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t,e){return"translate("+gt.utils.NaNtoZero(y(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-m.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=(h||i)(t);return(""+n).match("NaN")?"":n}),a.watchTransition(_,"min-max top").attr("transform",function(t,e){return"translate("+gt.utils.NaNtoZero(y.range()[e])+",0)"}));break;case"bottom":o=E+36;var u=30,c=0,d=r.selectAll("g").select("text"),f="";if(A%360){d.attr("transform",""),d.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;c=n.height,u<r&&(u=r)}),f="rotate("+A+" 0,"+(c/2+m.tickPadding())+")";var p=Math.abs(Math.sin(A*Math.PI/180));o=(p?p*u:u)+30,d.attr("transform",f).style("text-anchor",0<A%360?"start":"end")}else C?d.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):d.attr("transform","translate(0,0)");l.enter().append("text").attr("class","nv-axislabel"),s=0,1===y.range().length?s=S?2*y.range()[0]+y.rangeBand():0:2===y.range().length?s=S?y.range()[0]+y.range()[1]+y.rangeBand():y.range()[1]:2<y.range().length&&(s=y.range()[y.range().length-1]+(y.range()[1]-y.range()[0])),l.attr("text-anchor","middle").attr("y",o).attr("x",s/2),w&&((a=n.selectAll("g.nv-axisMaxMin").data([y.domain()[0],y.domain()[y.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t,e){return"translate("+gt.utils.NaNtoZero(y(t)+(S?y.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",m.tickPadding()).attr("transform",f).style("text-anchor",A?0<A%360?"start":"end":"middle").text(function(t,e){var n=(h||i)(t);return(""+n).match("NaN")?"":n}),a.watchTransition(_,"min-max bottom").attr("transform",function(t,e){return"translate("+gt.utils.NaNtoZero(y(t)+(S?y.rangeBand()/2:0))+",0)"}));break;case"right":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",M?"middle":"begin").attr("transform",M?"rotate(90)":"").attr("y",M?12-Math.max(x.right,b)-(E||0):-10).attr("x",M?d3.max(y.range())/2:m.tickPadding()),w&&((a=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t,e){return"translate(0,"+gt.utils.NaNtoZero(y(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",m.tickPadding()).style("text-anchor","start").text(function(t,e){var n=(h||i)(t);return(""+n).match("NaN")?"":n}),a.watchTransition(_,"min-max right").attr("transform",function(t,e){return"translate(0,"+gt.utils.NaNtoZero(y.range()[e])+")"}).select("text").style("opacity",1));break;case"left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",M?"middle":"end").attr("transform",M?"rotate(-90)":"").attr("y",M?25-Math.max(x.left,b)-(E||0):-10).attr("x",M?-d3.max(y.range())/2:-m.tickPadding()),w&&((a=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t,e){return"translate(0,"+gt.utils.NaNtoZero(v(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-m.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=(h||i)(t);return(""+n).match("NaN")?"":n}),a.watchTransition(_,"min-max right").attr("transform",function(t,e){return"translate(0,"+gt.utils.NaNtoZero(y.range()[e])+")"}).select("text").style("opacity",1))}if(l.text(function(t){return t}),!w||"left"!==m.orient()&&"right"!==m.orient()||(r.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(y(t)<y.range()[1]+10||y(t)>y.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),y.domain()[0]==y.domain()[1]&&0==y.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),w&&("top"===m.orient()||"bottom"===m.orient())){var g=[];n.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?g.push(y(e)-this.getBoundingClientRect().width-4):g.push(y(e)+this.getBoundingClientRect().width+4)}catch(t){n?g.push(y(e)-4):g.push(y(e)+4)}}),r.selectAll("g").each(function(t,e){(y(t)<g[0]||y(t)>g[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}r.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),v=y.copy()}),_.renderEnd("axis immediate"),r}return r.axis=m,r.dispatch=t,r.options=gt.utils.optionsFunc.bind(r),r._options=Object.create({},{axisLabelDistance:{get:function(){return E},set:function(t){E=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},rotateLabels:{get:function(){return A},set:function(t){A=t}},rotateYLabel:{get:function(){return M},set:function(t){M=t}},showMaxMin:{get:function(){return w},set:function(t){w=t}},axisLabel:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return e},set:function(t){e=t}},ticks:{get:function(){return N},set:function(t){N=t}},width:{get:function(){return b},set:function(t){b=t}},fontSize:{get:function(){return F},set:function(t){F=t}},tickFormatMaxMin:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return x},set:function(t){x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return n},set:function(t){n=t,_.reset(n)}},scale:{get:function(){return y},set:function(t){y=t,m.scale(y),S="function"==typeof y.rangeBands,gt.utils.inheritOptionsD3(r,y,["domain","range","rangeBand","rangeBands"])}}}),gt.utils.initOptions(r),gt.utils.inheritOptionsD3(r,m,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),gt.utils.inheritOptionsD3(r,y,["domain","range","rangeBand","rangeBands"]),r},gt.models.legend=function(){"use strict";var S={top:5,right:0,bottom:5,left:0},N=400,E=20,F=function(t){return t.key},_=function(t){return t},n=gt.utils.getColor(),W=20,O=!0,T=32,I=!0,D=!0,L=!0,P=!1,B=!1,z=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),R="classic";function e(t){function A(t,e){return"furious"!=R?"#000":B?t.disengaged?"#000":"#fff":B?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function M(t,e){return B&&"furious"==R&&t.disengaged?"#eee":t.color||n(t,e)}function C(t,e){return B&&"furious"==R?1:t.disabled?0:1}return t.each(function(t){var e=N-S.left-S.right,n=d3.select(this);gt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),o=r.select("g");I?r.attr("transform","translate("+-S.right+","+S.top+")"):r.attr("transform","translate("+S.left+","+S.top+")");var a,s,l=o.selectAll(".nv-series").data(function(t){return"furious"!=R?t:t.filter(function(t){return!!B||!t.disengaged})}),u=l.enter().append("g").attr("class","nv-series");switch(R){case"furious":s=23;break;case"classic":s=20}if("classic"==R)u.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a=l.select(".nv-legend-symbol");else if("furious"==R){u.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),a=l.select(".nv-legend-symbol"),u.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),l.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",A(t,e))})}u.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var c=l.select("text.nv-legend-text");l.on("mouseover",function(t,e){z.legendMouseover(t,e)}).on("mouseout",function(t,e){z.legendMouseout(t,e)}).on("click",function(t,e){z.legendClick(t,e);var n=l.data();if(D){if("classic"==R)P?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==R)if(B)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!B){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}z.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(L){if("furious"==R&&B)return;if(z.legendDblclick(t,e),D){var n=l.data();n.forEach(function(t){t.disabled=!0,"furious"==R&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==R&&(t.userDisabled=t.disabled),z.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}}),l.classed("nv-disabled",function(t){return t.userDisabled}),l.exit().remove(),c.attr("fill",A).text(function(t){return _(F(t))});var d=0;if(O){var f=[];l.each(function(t,e){var n,r;if(_(F(t))&&_(F(t)).length>W){var i=_(F(t)).substring(0,W);n=d3.select(this).select("text").text(i+"..."),d3.select(this).append("svg:title").text(_(F(t)))}else n=d3.select(this).select("text");try{if((r=n.node().getComputedTextLength())<=0)throw Error()}catch(t){r=gt.utils.calcApproxTextWidth(n)}f.push(r+T)});var p=0,g=[];for(d=0;d<e&&p<f.length;)g[p]=f[p],d+=f[p++];for(0===p&&(p=1);e<d&&1<p;){g=[],p--;for(var h=0;h<f.length;h++)f[h]>(g[h%p]||0)&&(g[h%p]=f[h]);d=g.reduce(function(t,e,n,r){return t+e})}for(var v=[],m=0,y=0;m<p;m++)v[m]=y,y+=g[m];l.attr("transform",function(t,e){return"translate("+v[e%p]+","+(5+Math.floor(e/p)*s)+")"}),I?o.attr("transform","translate("+(N-S.right-d)+","+S.top+")"):o.attr("transform","translate(0,"+S.top+")"),E=S.top+S.bottom+Math.ceil(f.length/p)*s}else{var x,b=5,k=5,w=0;l.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+T;return x=k,N<S.left+S.right+x+n&&(k=x=5,b+=s),w<(k+=n)&&(w=k),d<x+w&&(d=x+w),"translate("+x+","+b+")"}),o.attr("transform","translate("+(N-S.right-w)+","+S.top+")"),E=S.top+S.bottom+b+15}"furious"==R&&(a.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),i.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),o.select(".nv-legend-bg").transition().duration(300).attr("x",-s).attr("width",d+s-12).attr("height",E+10).attr("y",-S.top-10).attr("opacity",B?1:0));a.style("fill",M).style("fill-opacity",C).style("stroke",M)}),e}return e.dispatch=z,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return N},set:function(t){N=t}},height:{get:function(){return E},set:function(t){E=t}},key:{get:function(){return F},set:function(t){F=t}},keyFormatter:{get:function(){return _},set:function(t){_=t}},align:{get:function(){return O},set:function(t){O=t}},maxKeyLength:{get:function(){return W},set:function(t){W=t}},rightAlign:{get:function(){return I},set:function(t){I=t}},padding:{get:function(){return T},set:function(t){T=t}},updateState:{get:function(){return D},set:function(t){D=t}},enableDoubleClick:{get:function(){return L},set:function(t){L=t}},radioButtonMode:{get:function(){return P},set:function(t){P=t}},expanded:{get:function(){return B},set:function(t){B=t}},vers:{get:function(){return R},set:function(t){R=t}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},color:{get:function(){return n},set:function(t){n=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.focus=function(f){"use strict";f=f||gt.models.line();var p,g,h=gt.models.axis(),v=gt.models.axis(),m=d3.svg.brush(),y={top:10,right:0,bottom:30,left:0},x=gt.utils.defaultColor(),b=null,k=70,w=!0,A=!1,M=!1,C=null,S=250,N=d3.dispatch("brush","onBrush","renderEnd"),E=!0;f.interactive(!1),f.pointActive(function(t){return!1});var e=gt.utils.renderWatch(N,S);function F(t){return e.reset(),e.models(f),w&&e.models(h),A&&e.models(v),t.each(function(n){var t=d3.select(this);gt.utils.initSVG(t);var i=gt.utils.availableWidth(b,t,y),o=k-y.top-y.bottom;F.update=function(){0===S?t.call(F):t.transition().duration(S).call(F)},F.container=this,p=f.xScale(),g=f.yScale();var e=t.selectAll("g.nv-focus").data([n]),r=e.enter().append("g").attr("class","nvd3 nv-focus").append("g"),a=e.select("g");e.attr("transform","translate("+y.left+","+y.top+")"),r.append("g").attr("class","nv-background").append("rect"),r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis"),r.append("g").attr("class","nv-contentWrap"),r.append("g").attr("class","nv-brushBackground"),r.append("g").attr("class","nv-x nv-brush"),M&&a.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)"),a.select(".nv-background rect").attr("width",i).attr("height",o),f.width(i).height(o).color(n.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!n[e].disabled}));var s=a.select(".nv-contentWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(s).call(f),m.x(p).on("brush",function(){d(E)}),m.on("brushend",function(){E||N.onBrush(m.empty()?p.domain():m.extent())}),C&&m.extent(C);var l=a.select(".nv-brushBackground").selectAll("g").data([C||m.extent()]),u=l.enter().append("g");u.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",o),u.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",o);var c=a.select(".nv-x.nv-brush").call(m);function d(t){C=m.empty()?null:m.extent();var e=m.empty()?p.domain():m.extent();N.brush({extent:e,brush:m}),m.empty()||m.extent(C),l.data([m.empty()?p.domain():C]).each(function(t,e){var n=p(t[0])-p.range()[0],r=i-p(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",p(t[1])).attr("width",r<0?0:r)}),t&&N.onBrush(e)}c.selectAll("rect").attr("height",o),c.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=o/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),d(!0),a.select(".nv-background rect").attr("width",i).attr("height",o),w&&(h.scale(p)._ticks(gt.utils.calcTicksX(i/100,n)).tickSize(-o,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),d3.transition(a.select(".nv-x.nv-axis")).call(h)),A&&(v.scale(g)._ticks(gt.utils.calcTicksY(o/36,n)).tickSize(-i,0),d3.transition(a.select(".nv-y.nv-axis")).call(v)),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")")}),e.renderEnd("focus immediate"),F}return F.dispatch=N,F.content=f,F.brush=m,F.xAxis=h,F.yAxis=v,F.options=gt.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return A},set:function(t){A=t}},brushExtent:{get:function(){return C},set:function(t){C=t}},syncBrushing:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},duration:{get:function(){return S},set:function(t){S=t,e.reset(S),f.duration(S),h.duration(S),v.duration(S)}},color:{get:function(){return x},set:function(t){x=gt.utils.getColor(t),f.color(x)}},interpolate:{get:function(){return f.interpolate()},set:function(t){f.interpolate(t)}},xTickFormat:{get:function(){return h.tickFormat()},set:function(t){h.tickFormat(t)}},yTickFormat:{get:function(){return v.tickFormat()},set:function(t){v.tickFormat(t)}},x:{get:function(){return f.x()},set:function(t){f.x(t)}},y:{get:function(){return f.y()},set:function(t){f.y(t)}},rightAlignYAxis:{get:function(){return M},set:function(t){M=t,v.orient(M?"right":"left")}}}),gt.utils.inheritOptions(F,f),gt.utils.initOptions(F),F},gt.models.line=function(){"use strict";var f,p,g=gt.models.scatter(),h={top:0,right:0,bottom:0,left:0},v=960,m=500,y=null,x=1.5,b=gt.utils.defaultColor(),k=function(t){return t.x},w=function(t){return t.y},A=function(t,e){return!isNaN(w(t,e))&&null!==w(t,e)},M=function(t){return t.area},C=!1,S="linear",e=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");g.pointSize(16).pointDomain([16,256]);var N,E,F=gt.utils.renderWatch(t,e);function n(t){return F.reset(),F.models(g),t.each(function(t){y=d3.select(this);var e=gt.utils.availableWidth(v,y,h),n=gt.utils.availableHeight(m,y,h);gt.utils.initSVG(y),f=g.xScale(),p=g.yScale(),N=N||f,E=E||p;var r=y.selectAll("g.nv-wrap.nv-line").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),o=i.append("defs"),a=i.append("g"),s=r.select("g");a.append("g").attr("class","nv-groups"),a.append("g").attr("class","nv-scatterWrap"),r.attr("transform","translate("+h.left+","+h.top+")"),g.width(e).height(n);var l=r.select(".nv-scatterWrap");l.call(g),o.append("clipPath").attr("id","nv-edge-clip-"+g.id()).append("rect"),r.select("#nv-edge-clip-"+g.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",C?"url(#nv-edge-clip-"+g.id()+")":""),l.attr("clip-path",C?"url(#nv-edge-clip-"+g.id()+")":"");var u=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});u.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||x}).style("fill-opacity",1e-6),u.exit().remove(),u.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return b(t,e)}).style("stroke",function(t,e){return b(t,e)}),u.watchTransition(F,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var c=u.selectAll("path.nv-area").data(function(t){return M(t)?[t]:[]});c.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(S).defined(A).x(function(t,e){return gt.utils.NaNtoZero(N(k(t,e)))}).y0(function(t,e){return gt.utils.NaNtoZero(E(w(t,e)))}).y1(function(t,e){return E(p.domain()[0]<=0?0<=p.domain()[1]?0:p.domain()[1]:p.domain()[0])}).apply(this,[t.values])}),u.exit().selectAll("path.nv-area").remove(),c.watchTransition(F,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(S).defined(A).x(function(t,e){return gt.utils.NaNtoZero(f(k(t,e)))}).y0(function(t,e){return gt.utils.NaNtoZero(p(w(t,e)))}).y1(function(t,e){return p(p.domain()[0]<=0?0<=p.domain()[1]?0:p.domain()[1]:p.domain()[0])}).apply(this,[t.values])});var d=u.selectAll("path.nv-line").data(function(t){return[t.values]});d.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(S).defined(A).x(function(t,e){return gt.utils.NaNtoZero(N(k(t,e)))}).y(function(t,e){return gt.utils.NaNtoZero(E(w(t,e)))})),d.watchTransition(F,"line: linePaths").attr("d",d3.svg.line().interpolate(S).defined(A).x(function(t,e){return gt.utils.NaNtoZero(f(k(t,e)))}).y(function(t,e){return gt.utils.NaNtoZero(p(w(t,e)))})),N=f.copy(),E=p.copy()}),F.renderEnd("line immediate"),n}return n.dispatch=t,(n.scatter=g).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),g.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),g.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),n.options=gt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},defined:{get:function(){return A},set:function(t){A=t}},interpolate:{get:function(){return S},set:function(t){S=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},duration:{get:function(){return e},set:function(t){e=t,F.reset(e),g.duration(e)}},isArea:{get:function(){return M},set:function(t){M=d3.functor(t)}},x:{get:function(){return k},set:function(t){k=t,g.x(t)}},y:{get:function(){return w},set:function(t){w=t,g.y(t)}},color:{get:function(){return b},set:function(t){b=gt.utils.getColor(t),g.color(b)}}}),gt.utils.inheritOptions(n,g),gt.utils.initOptions(n),n},gt.models.scatter=function(){"use strict";var y,x,b,k,w,A,M,C,S={top:0,right:0,bottom:0,left:0},N=null,E=null,F=gt.utils.defaultColor(),_=null,W=Math.floor(1e5*Math.random()),O=null,T=d3.scale.linear(),I=d3.scale.linear(),D=d3.scale.linear(),L=function(t){return t.x},P=function(t){return t.y},B=function(t){return t.size||1},z=function(t){return t.shape||"circle"},R=[],X=[],Y=[],V=!0,H=function(t){return!t.notActive},Z=!1,G=.1,j=!1,q=!0,K=!1,U=function(){return 25},J=null,Q=null,$=null,tt=null,et=null,nt=null,rt=!1,it=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),ot=!0,e=250,at=300,st=!1,lt=!1,ut=gt.utils.renderWatch(it,e),ct=[16,256],l={};function dt(t){var e;e=t[0].series+":"+t[1],delete l[e]}function ft(t){var e,n,r,i,o,a=(o=(i=t)[0].series+":"+i[1],l[o]=l[o]||{}),s=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),a[n]===r&&a.hasOwnProperty(n)||(a[n]=r,s=!0);return s}function pt(t){return ut.reset(),t.each(function(l){O=d3.select(this);var t=gt.utils.availableWidth(N,O,S),e=gt.utils.availableHeight(E,O,S);gt.utils.initSVG(O),l.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var n="function"==typeof pt.yScale().base,r=J&&Q&&et?[]:d3.merge(l.map(function(t){return t.values.map(function(t,e){return{x:L(t,e),y:P(t,e),size:B(t,e)}})}));if(T.domain(J||d3.extent(r.map(function(t){return t.x}).concat(R))),Z&&l[0]?T.range($||[(t*G+t)/(2*l[0].values.length),t-t*(1+G)/(2*l[0].values.length)]):T.range($||[0,t]),n){var i=d3.min(r.map(function(t){if(0!==t.y)return t.y}));I.clamp(!0).domain(Q||d3.extent(r.map(function(t){return 0!==t.y?t.y:.1*i}).concat(X))).range(tt||[e,0])}else I.domain(Q||d3.extent(r.map(function(t){return t.y}).concat(X))).range(tt||[e,0]);D.domain(et||d3.extent(r.map(function(t){return t.size}).concat(Y))).range(nt||ct),rt=T.domain()[0]===T.domain()[1]||I.domain()[0]===I.domain()[1],T.domain()[0]===T.domain()[1]&&(T.domain()[0]?T.domain([T.domain()[0]-.01*T.domain()[0],T.domain()[1]+.01*T.domain()[1]]):T.domain([-1,1])),I.domain()[0]===I.domain()[1]&&(I.domain()[0]?I.domain([I.domain()[0]-.01*I.domain()[0],I.domain()[1]+.01*I.domain()[1]]):I.domain([-1,1])),isNaN(T.domain()[0])&&T.domain([-1,1]),isNaN(I.domain()[0])&&I.domain([-1,1]),y=y||T,x=x||I,b=b||D;var o=T(1)!==y(1)||I(1)!==x(1)||D(1)!==b(1);M=M||E;var a=(A=A||N)!==N||M!==E,s=(k=k||[])[0]!==T.domain()[0]||k[1]!==T.domain()[1];k=T.domain(),w=w||[],s=s||w[0]!==I.domain()[0]||w[1]!==I.domain()[1],w=I.domain();var u=O.selectAll("g.nv-wrap.nv-scatter").data([l]),c=u.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+W),d=c.append("defs"),f=c.append("g"),p=u.select("g");function g(){if(lt=!1,!V)return!1;if(O.selectAll(".nv-point.hover").classed("hover",!1),u.select(".nv-point-paths").selectAll("path").remove(),!0===ot){var n=d3.merge(l.map(function(t,i){return t.values.map(function(t,e){var n=L(t,e),r=P(t,e);return[gt.utils.NaNtoZero(T(n))+1e-4*Math.random(),gt.utils.NaNtoZero(I(r))+1e-4*Math.random(),i,e,t]}).filter(function(t,e){return H(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([T.range()[0]-20,I.range()[0]-20,null,null]),n.push([T.range()[1]+20,I.range()[1]+20,null,null]),n.push([T.range()[0]-20,I.range()[0]+20,null,null]),n.push([T.range()[1]+20,I.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,E+10],[N+10,E+10],[N+10,-10]]);n=n.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var t=0;t<n.length-1;)Math.abs(n[t][0]-n[t+1][0])<1e-4&&Math.abs(n[t][1]-n[t+1][1])<1e-4?n.splice(t+1,1):t++;var e=d3.geom.voronoi(n).map(function(t,e){return 0===t.length?null:{data:r.clip(t),series:n[e][2],point:n[e][3]}}),i=u.select(".nv-point-paths").selectAll("path").data(e),o=i.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+W+"-"+e+")"});if(K&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),q){u.select(".nv-point-clips").selectAll("*").remove();u.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+W+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",U)}var a=function(t,e,n){if(lt)return 0;var r=l[e.series];if(void 0!==r){var i=r.values[e.point];i.color=F(r,e.series),i.x=L(i),i.y=P(i);var o=O.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:T(L(i,e.point))+o.left+s+S.left+10,top:I(P(i,e.point))+o.top+a+S.top+10},relativePos:[T(L(i,e.point))+S.left,I(P(i,e.point))+S.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};i.on("click",function(t){a(this,t,it.elementClick)}).on("dblclick",function(t){a(this,t,it.elementDblClick)}).on("mouseover",function(t){a(this,t,it.elementMouseover)}).on("mouseout",function(t,e){a(this,t,it.elementMouseout)})}else u.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementClick({point:r,series:n,pos:[T(L(r,e))+S.left,I(P(r,e))+S.top],relativePos:[T(L(r,e))+S.left,I(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementDblClick({point:r,series:n,pos:[T(L(r,e))+S.left,I(P(r,e))+S.top],relativePos:[T(L(r,e))+S.left,I(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e})}).on("mouseover",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementMouseover({point:r,series:n,pos:[T(L(r,e))+S.left,I(P(r,e))+S.top],relativePos:[T(L(r,e))+S.left,I(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e,color:F(t[0],e)})}).on("mouseout",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementMouseout({point:r,series:n,pos:[T(L(r,e))+S.left,I(P(r,e))+S.top],relativePos:[T(L(r,e))+S.left,I(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e,color:F(t[0],e)})})}u.classed("nv-single-point",rt),f.append("g").attr("class","nv-groups"),f.append("g").attr("class","nv-point-paths"),c.append("g").attr("class","nv-point-clips"),u.attr("transform","translate("+S.left+","+S.top+")"),d.append("clipPath").attr("id","nv-edge-clip-"+W).append("rect").attr("transform","translate( -10, -10)"),u.select("#nv-edge-clip-"+W+" rect").attr("width",t+20).attr("height",0<e?e+20:0),p.attr("clip-path",j?"url(#nv-edge-clip-"+W+")":""),lt=!0;var h=u.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});h.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),h.exit().remove(),h.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!V).classed("hover",function(t){return t.hover}),h.watchTransition(ut,"scatter: groups").style("fill",function(t,e){return F(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||_||F(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var v=h.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return H(t[0],e)})});if(v.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(y(L(t[0],t[1])))+","+gt.utils.NaNtoZero(x(P(t[0],t[1])))+")"}).attr("d",gt.utils.symbol().type(function(t){return z(t[0])}).size(function(t){return D(B(t[0],t[1]))})),v.exit().each(dt).remove(),h.exit().selectAll("path.nv-point").watchTransition(ut,"scatter exit").attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(T(L(t[0],t[1])))+","+gt.utils.NaNtoZero(I(P(t[0],t[1])))+")"}).remove(),v.filter(function(t){return ft(t,"x",L,"y",P)||o||a||s}).watchTransition(ut,"scatter points").attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(T(L(t[0],t[1])))+","+gt.utils.NaNtoZero(I(P(t[0],t[1])))+")"}),v.filter(function(t){return ft(t,"shape",z,"size",B)||o||a||s}).watchTransition(ut,"scatter points").attr("d",gt.utils.symbol().type(function(t){return z(t[0])}).size(function(t){return D(B(t[0],t[1]))})),st){var m=h.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return H(t[0],e)})});m.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){return"translate("+(gt.utils.NaNtoZero(y(L(t[0],t[1])))+Math.sqrt(D(B(t[0],t[1]))/Math.PI)+2)+","+gt.utils.NaNtoZero(x(P(t[0],t[1])))+")"}).text(function(t,e){return t[0].label}),m.exit().remove(),h.exit().selectAll("path.nv-label").watchTransition(ut,"scatter exit").attr("transform",function(t){return"translate("+(gt.utils.NaNtoZero(T(L(t[0],t[1])))+Math.sqrt(D(B(t[0],t[1]))/Math.PI)+2)+","+gt.utils.NaNtoZero(I(P(t[0],t[1])))+")"}).remove(),m.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),m.watchTransition(ut,"scatter labels").text(function(t,e){return t[0].label}).attr("transform",function(t){return"translate("+(gt.utils.NaNtoZero(T(L(t[0],t[1])))+Math.sqrt(D(B(t[0],t[1]))/Math.PI)+2)+","+gt.utils.NaNtoZero(I(P(t[0],t[1])))+")"})}at?(clearTimeout(C),C=setTimeout(g,at)):g(),y=T.copy(),x=I.copy(),b=D.copy(),A=N,M=E}),ut.renderEnd("scatter immediate"),pt}return pt.dispatch=it,pt.options=gt.utils.optionsFunc.bind(pt),pt._calls=new function(){this.clearHighlights=function(){return gt.dom.write(function(){O.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){gt.dom.write(function(){O.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},it.on("elementMouseover.point",function(t){V&&pt._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),it.on("elementMouseout.point",function(t){V&&pt._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),pt._options=Object.create({},{width:{get:function(){return N},set:function(t){N=t}},height:{get:function(){return E},set:function(t){E=t}},xScale:{get:function(){return T},set:function(t){T=t}},yScale:{get:function(){return I},set:function(t){I=t}},pointScale:{get:function(){return D},set:function(t){D=t}},xDomain:{get:function(){return J},set:function(t){J=t}},yDomain:{get:function(){return Q},set:function(t){Q=t}},pointDomain:{get:function(){return et},set:function(t){et=t}},xRange:{get:function(){return $},set:function(t){$=t}},yRange:{get:function(){return tt},set:function(t){tt=t}},pointRange:{get:function(){return nt},set:function(t){nt=t}},forceX:{get:function(){return R},set:function(t){R=t}},forceY:{get:function(){return X},set:function(t){X=t}},forcePoint:{get:function(){return Y},set:function(t){Y=t}},interactive:{get:function(){return V},set:function(t){V=t}},pointActive:{get:function(){return H},set:function(t){H=t}},padDataOuter:{get:function(){return G},set:function(t){G=t}},padData:{get:function(){return Z},set:function(t){Z=t}},clipEdge:{get:function(){return j},set:function(t){j=t}},clipVoronoi:{get:function(){return q},set:function(t){q=t}},clipRadius:{get:function(){return U},set:function(t){U=t}},showVoronoi:{get:function(){return K},set:function(t){K=t}},id:{get:function(){return W},set:function(t){W=t}},interactiveUpdateDelay:{get:function(){return at},set:function(t){at=t}},showLabels:{get:function(){return st},set:function(t){st=t}},pointBorderColor:{get:function(){return _},set:function(t){_=t}},x:{get:function(){return L},set:function(t){L=d3.functor(t)}},y:{get:function(){return P},set:function(t){P=d3.functor(t)}},pointSize:{get:function(){return B},set:function(t){B=d3.functor(t)}},pointShape:{get:function(){return z},set:function(t){z=d3.functor(t)}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},duration:{get:function(){return e},set:function(t){e=t,ut.reset(e)}},color:{get:function(){return F},set:function(t){F=gt.utils.getColor(t)}},useVoronoi:{get:function(){return ot},set:function(t){!1===(ot=t)&&(q=!1)}}}),gt.utils.initOptions(pt),pt},gt.models.lineChart=function(){"use strict";var g,h,v=gt.models.line(),m=gt.models.axis(),y=gt.models.axis(),x=gt.models.legend(),b=gt.interactiveGuideline(),e=gt.models.tooltip(),k=gt.models.focus(gt.models.line()),w={top:30,right:20,bottom:50,left:60},A=null,M=gt.utils.defaultColor(),C=null,S=null,N=!0,E="top",F=!0,_=!0,W=!1,O=!1,T=!1,I=gt.utils.state(),D=null,n=null,L=d3.dispatch("stateChange","changeState","renderEnd"),P=250;m.orient("bottom").tickPadding(7),y.orient(W?"right":"left"),v.clipEdge(!0).duration(0),e.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)}),b.tooltip.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)});var r=gt.utils.renderWatch(L,P),B=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},z=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function R(t){return r.reset(),r.models(v),F&&r.models(m),_&&r.models(y),t.each(function(r){var t=d3.select(this);gt.utils.initSVG(t);var e,n=gt.utils.availableWidth(C,t,w),i=gt.utils.availableHeight(S,t,w)-(T?k.height():0);if(R.update=function(){0===P?t.call(R):t.transition().duration(P).call(R)},R.container=this,I.setter(z(r),R.update).getter(B(r)).update(),I.disabled=r.map(function(t){return!!t.disabled}),!D)for(e in D={},I)I[e]instanceof Array?D[e]=I[e].slice(0):D[e]=I[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return gt.utils.noData(R,t),R;t.selectAll(".nv-noData").remove(),k.dispatch.on("onBrush",function(t){p(t)}),g=v.xScale(),h=v.yScale();var o=t.selectAll("g.nv-wrap.nv-lineChart").data([r]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),s=o.select("g");a.append("g").attr("class","nv-legendWrap");var l=a.append("g").attr("class","nv-focus");l.append("g").attr("class","nv-background").append("rect"),l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-linesWrap"),l.append("g").attr("class","nv-interactive");a.append("g").attr("class","nv-focusWrap");N?(x.width(n),s.select(".nv-legendWrap").datum(r).call(x),"bottom"===E?(w.bottom=m.height()+x.height(),i=gt.utils.availableHeight(S,t,w),s.select(".nv-legendWrap").attr("transform","translate(0,"+(i+m.height())+")")):"top"===E&&(A||x.height()===w.top||(w.top=x.height(),i=gt.utils.availableHeight(S,t,w)-(T?k.height():0)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-w.top+")"))):s.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+w.left+","+w.top+")"),W&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),O&&(b.width(n).height(i).margin({left:w.left,top:w.top}).svgContainer(t).xScale(g),o.select(".nv-interactive").call(b)),s.select(".nv-focus .nv-background rect").attr("width",n).attr("height",i),v.width(n).height(i).color(r.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!r[e].disabled}));var u=s.select(".nv-linesWrap").datum(r.filter(function(t){return!t.disabled}));function c(){F&&s.select(".nv-focus .nv-x.nv-axis").transition().duration(P).call(m)}function d(){_&&s.select(".nv-focus .nv-y.nv-axis").transition().duration(P).call(y)}if(F&&m.scale(g)._ticks(gt.utils.calcTicksX(n/100,r)).tickSize(-i,0),_&&y.scale(h)._ticks(gt.utils.calcTicksY(i/36,r)).tickSize(-n,0),s.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i+")"),T||null!==k.brush.extent()){k.width(n),s.select(".nv-focusWrap").style("display",T?"initial":"none").attr("transform","translate(0,"+(i+w.bottom+k.margin().top)+")").call(k);var f=k.brush.empty()?k.xDomain():k.brush.extent();null!==f&&p(f)}else u.transition().call(v),c(),d();function p(n){s.select(".nv-focus .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(P).call(v),c(),d()}x.dispatch.on("stateChange",function(t){for(var e in t)I[e]=t[e];L.stateChange(I),R.update()}),b.dispatch.on("elementMousemove",function(a){v.clearHighlights();var s,l,u,c=[];if(r.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(t,e){var n=null!==k.brush.extent()?k.brush.empty()?k.xScale().domain():k.brush.extent():g.domain(),r=t.values.filter(function(t,e){return n[0]<=n[1]?v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]:v.x()(t,e)>=n[1]&&v.x()(t,e)<=n[0]});if(0<r.length){var i=r[l=gt.interactiveBisect(r,a.pointXValue,v.x())],o=R.y()(i,l);if(null!==o&&v.highlightPoint(e,t.values.indexOf(i),!0),void 0===i)return;void 0===s&&(s=i),void 0===u&&(u=R.xScale()(R.x()(i,l))),c.push({key:t.key,value:o,color:M(t,t.seriesIndex),data:i})}}),2<c.length){var t=R.yScale().invert(a.mouseY),e=.03*Math.abs(R.yScale().domain()[0]-R.yScale().domain()[1]),n=gt.nearestValueIndex(c.map(function(t){return t.value}),t,e);null!==n&&(c[n].highlight=!0)}void 0!==l&&(b.tooltip.valueFormatter(b.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":y.tickFormat()(t)}).data({value:R.x()(s,l),index:l,series:c})(),b.renderGuideLine(u))}),b.dispatch.on("elementClick",function(i){var o,a=[];r.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=gt.interactiveBisect(t.values,i.pointXValue,R.x()),n=t.values[e];if(void 0!==n){void 0===o&&(o=R.xScale()(R.x()(n,e)));var r=R.yScale()(R.y()(n,e));a.push({point:n,pointIndex:e,pos:[o,r],seriesIndex:t.seriesIndex,series:t})}}),v.dispatch.elementClick(a)}),b.dispatch.on("elementMouseout",function(t){v.clearHighlights()}),L.on("changeState",function(n){void 0!==n.disabled&&r.length===n.disabled.length&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),I.disabled=n.disabled),R.update()})}),r.renderEnd("lineChart immediate"),R}return v.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||e.data(t).hidden(!1)}),v.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),R.dispatch=L,R.lines=v,R.legend=x,R.focus=k,R.xAxis=m,R.x2Axis=k.xAxis,R.yAxis=y,R.y2Axis=k.yAxis,R.interactiveLayer=b,R.tooltip=e,R.state=I,R.dispatch=L,R.options=gt.utils.optionsFunc.bind(R),R._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return N},set:function(t){N=t}},legendPosition:{get:function(){return E},set:function(t){E=t}},showXAxis:{get:function(){return F},set:function(t){F=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return T},set:function(t){T=t}},focusHeight:{get:function(){return k.height()},set:function(t){k.height(t)}},focusShowAxisX:{get:function(){return k.showXAxis()},set:function(t){k.showXAxis(t)}},focusShowAxisY:{get:function(){return k.showYAxis()},set:function(t){k.showYAxis(t)}},brushExtent:{get:function(){return k.brushExtent()},set:function(t){k.brushExtent(t)}},focusMargin:{get:function(){return k.margin},set:function(t){void 0!==t.top&&(w.top=t.top,A=t.top),k.margin.right=void 0!==t.right?t.right:k.margin.right,k.margin.bottom=void 0!==t.bottom?t.bottom:k.margin.bottom,k.margin.left=void 0!==t.left?t.left:k.margin.left}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return P},set:function(t){P=t,r.reset(P),v.duration(P),k.duration(P),m.duration(P),y.duration(P)}},color:{get:function(){return M},set:function(t){M=gt.utils.getColor(t),x.color(M),v.color(M),k.color(M)}},interpolate:{get:function(){return v.interpolate()},set:function(t){v.interpolate(t),k.interpolate(t)}},xTickFormat:{get:function(){return m.tickFormat()},set:function(t){m.tickFormat(t),k.xTickFormat(t)}},yTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t),k.yTickFormat(t)}},x:{get:function(){return v.x()},set:function(t){v.x(t),k.x(t)}},y:{get:function(){return v.y()},set:function(t){v.y(t),k.y(t)}},rightAlignYAxis:{get:function(){return W},set:function(t){W=t,y.orient(W?"right":"left")}},useInteractiveGuideline:{get:function(){return O},set:function(t){(O=t)&&(v.interactive(!1),v.useVoronoi(!1))}}}),gt.utils.inheritOptions(R,v),gt.utils.initOptions(R),R},gt.models.lineWithFocusChart=function(){return gt.models.lineChart().margin({bottom:30}).focusEnable(!0)},gt.models.multiBar=function(){"use strict";var h,v,m,y,x,b,k,w={top:0,right:0,bottom:0,left:0},A=960,M=500,C=d3.scale.ordinal(),S=d3.scale.linear(),N=Math.floor(1e4*Math.random()),E=null,F=function(t){return t.x},_=function(t){return t.y},W=[0],O=!0,T=!1,I="zero",D=gt.utils.defaultColor(),L=!1,P=null,B=500,z=.1,R=.75,X=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),Y=gt.utils.renderWatch(X,B),V=0;function e(t){return Y.reset(),t.each(function(a){var t=A-w.left-w.right,e=M-w.top-w.bottom;E=d3.select(this),gt.utils.initSVG(E);var i=0;if(L&&a.length&&(L=[{values:a[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),T){var r=d3.layout.stack().offset(I).values(function(t){return t.values}).y(_)(!a.length&&L?L:a);r.forEach(function(t,n){t.nonStackable?(a[n].nonStackableSeries=i++,r[n]=a[n]):0<n&&r[n-1].nonStackable&&r[n].values.map(function(t,e){t.y0-=r[n-1].values[e].y,t.y1=t.y0+t.y})}),a=r}a.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),T&&0<a.length&&a[0].values.map(function(t,r){var i=0,o=0;a.map(function(t,e){if(!a[e].nonStackable){var n=t.values[r];n.size=Math.abs(n.y),n.y<0?(n.y1=o,o-=n.size):(n.y1=n.size+i,i+=n.size)}})});var n=v&&m?[]:a.map(function(t,n){return t.values.map(function(t,e){return{x:F(t,e),y:_(t,e),y0:t.y0,y1:t.y1,idx:n}})});C.domain(v||d3.merge(n).map(function(t){return t.x})).rangeBands(y||[0,t],z),S.domain(m||d3.extent(d3.merge(n).map(function(t){var e=t.y;return T&&!a[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(W))).range(x||[e,0]),C.domain()[0]===C.domain()[1]&&(C.domain()[0]?C.domain([C.domain()[0]-.01*C.domain()[0],C.domain()[1]+.01*C.domain()[1]]):C.domain([-1,1])),S.domain()[0]===S.domain()[1]&&(S.domain()[0]?S.domain([S.domain()[0]+.01*S.domain()[0],S.domain()[1]-.01*S.domain()[1]]):S.domain([-1,1])),b=b||C,k=k||S;var o=E.selectAll("g.nv-wrap.nv-multibar").data([a]),s=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=s.append("defs"),u=s.append("g"),c=o.select("g");u.append("g").attr("class","nv-groups"),o.attr("transform","translate("+w.left+","+w.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+N).append("rect"),o.select("#nv-edge-clip-"+N+" rect").attr("width",t).attr("height",e),c.attr("clip-path",O?"url(#nv-edge-clip-"+N+")":"");var d=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var f=Y.transition(d.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,B)).attr("y",function(t,e,n){var r=k(0)||0;return T&&a[t.series]&&!a[t.series].nonStackable&&(r=k(t.y0)),r}).attr("height",0).remove();f.delay&&f.delay(function(t,e){return e*(B/(V+1))-e}),d.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return D(t,e)}).style("stroke",function(t,e){return D(t,e)}),d.style("stroke-opacity",1).style("fill-opacity",R);var p=d.selectAll("rect.nv-bar").data(function(t){return L&&!a.length?L.values:t.values});p.exit().remove();p.enter().append("rect").attr("class",function(t,e){return _(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return T&&!a[n].nonStackable?0:n*C.rangeBand()/a.length}).attr("y",function(t,e,n){return k(T&&!a[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return C.rangeBand()/(T&&!a[n].nonStackable?1:a.length)}).attr("transform",function(t,e){return"translate("+C(F(t,e))+",0)"});p.style("fill",function(t,e,n){return D(t,n,e)}).style("stroke",function(t,e,n){return D(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),X.elementMouseover({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),X.elementMouseout({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){X.elementMousemove({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){X.elementClick({data:t,index:e,series:a[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){X.elementDblClick({data:t,index:e,series:a[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),p.attr("class",function(t,e){return _(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+C(F(t,e))+",0)"}),P&&(h||(h=a.map(function(){return!0})),p.style("fill",function(t,e,n){return d3.rgb(P(t,e)).darker(h.map(function(t,e){return e}).filter(function(t,e){return!h[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(P(t,e)).darker(h.map(function(t,e){return e}).filter(function(t,e){return!h[e]})[n]).toString()}));var g=p.watchTransition(Y,"multibar",Math.min(250,B)).delay(function(t,e){return e*B/a[0].values.length});T?g.attr("y",function(t,e,n){return a[n].nonStackable?_(t,e)<0?S(0):S(0)-S(_(t,e))<-1?S(0)-1:S(_(t,e))||0:S(t.y1)}).attr("height",function(t,e,n){return a[n].nonStackable?Math.max(Math.abs(S(_(t,e))-S(0)),0)||0:Math.max(Math.abs(S(t.y+t.y0)-S(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return a[n].nonStackable&&(r=t.series*C.rangeBand()/a.length,a.length!==i&&(r=a[n].nonStackableSeries*C.rangeBand()/(2*i))),r}).attr("width",function(t,e,n){if(a[n].nonStackable){var r=C.rangeBand()/i;return a.length!==i&&(r=C.rangeBand()/(2*i)),r}return C.rangeBand()}):g.attr("x",function(t,e){return t.series*C.rangeBand()/a.length}).attr("width",C.rangeBand()/a.length).attr("y",function(t,e){return _(t,e)<0?S(0):S(0)-S(_(t,e))<1?S(0)-1:S(_(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(S(_(t,e))-S(0)),1)||0}),b=C.copy(),k=S.copy(),a[0]&&a[0].values&&(V=a[0].values.length)}),Y.renderEnd("multibar immediate"),e}return e.dispatch=X,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return F},set:function(t){F=t}},y:{get:function(){return _},set:function(t){_=t}},xScale:{get:function(){return C},set:function(t){C=t}},yScale:{get:function(){return S},set:function(t){S=t}},xDomain:{get:function(){return v},set:function(t){v=t}},yDomain:{get:function(){return m},set:function(t){m=t}},xRange:{get:function(){return y},set:function(t){y=t}},yRange:{get:function(){return x},set:function(t){x=t}},forceY:{get:function(){return W},set:function(t){W=t}},stacked:{get:function(){return T},set:function(t){T=t}},stackOffset:{get:function(){return I},set:function(t){I=t}},clipEdge:{get:function(){return O},set:function(t){O=t}},disabled:{get:function(){return h},set:function(t){h=t}},id:{get:function(){return N},set:function(t){N=t}},hideable:{get:function(){return L},set:function(t){L=t}},groupSpacing:{get:function(){return z},set:function(t){z=t}},fillOpacity:{get:function(){return R},set:function(t){R=t}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return B},set:function(t){B=t,Y.reset(B)}},color:{get:function(){return D},set:function(t){D=gt.utils.getColor(t)}},barColor:{get:function(){return P},set:function(t){P=t?gt.utils.getColor(t):null}}}),gt.utils.initOptions(e),e},gt.models.multiBarChart=function(){"use strict";var f,p,g=gt.models.multiBar(),h=gt.models.axis(),v=gt.models.axis(),m=gt.interactiveGuideline(),y=gt.models.legend(),x=gt.models.legend(),b=gt.models.tooltip(),k={top:30,right:20,bottom:50,left:60},w=null,A=null,M=null,C=gt.utils.defaultColor(),S=!0,N={},E=!0,F=null,_=!0,W=!0,O=!1,T=!0,I=!1,D=!1,L=0,P=gt.utils.state(),B=null,e=null,z=d3.dispatch("stateChange","changeState","renderEnd"),R=function(){return S?180:0},X=250,Y=!1;P.stacked=!1,g.stacked(!1),h.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),v.orient(O?"right":"left").tickFormat(d3.format(",.1f")),b.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),m.tooltip.valueFormatter(function(t,e){return null==t?"N/A":v.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),m.tooltip.valueFormatter(function(t,e){return null==t?"N/A":v.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),m.tooltip.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),x.updateState(!1);var n=gt.utils.renderWatch(z),V=!1,H=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:V}}},Z=function(t){return function(n){void 0!==n.stacked&&(V=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function G(t){return n.reset(),n.models(g),_&&n.models(h),W&&n.models(v),t.each(function(u){var t=d3.select(this);gt.utils.initSVG(t);var e,n=gt.utils.availableWidth(A,t,k),r=gt.utils.availableHeight(M,t,k);if(G.update=function(){0===X?t.call(G):t.transition().duration(X).call(G)},G.container=this,P.setter(Z(u),G.update).getter(H(u)).update(),P.disabled=u.map(function(t){return!!t.disabled}),!B)for(e in B={},P)P[e]instanceof Array?B[e]=P[e].slice(0):B[e]=P[e];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return gt.utils.noData(G,t),G;t.selectAll(".nv-noData").remove(),f=g.xScale(),p=g.yScale();var i=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([u]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),a=i.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),o.append("g").attr("class","nv-interactive"),E?"bottom"===F?(y.width(n-k.right),a.select(".nv-legendWrap").datum(u).call(y),k.bottom=h.height()+y.height(),r=gt.utils.availableHeight(M,t,k),a.select(".nv-legendWrap").attr("transform","translate(0,"+(r+h.height())+")")):(y.width(n-R()),a.select(".nv-legendWrap").datum(u).call(y),w||y.height()===k.top||(k.top=y.height(),r=gt.utils.availableHeight(M,t,k)),a.select(".nv-legendWrap").attr("transform","translate("+R()+","+-k.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),S){var s=[{key:N.grouped||"Grouped",disabled:g.stacked()},{key:N.stacked||"Stacked",disabled:!g.stacked()}];x.width(R()).color(["#444","#444","#444"]),a.select(".nv-controlsWrap").datum(s).attr("transform","translate(0,"+-k.top+")").call(x)}else a.select(".nv-controlsWrap").selectAll("*").remove();if(i.attr("transform","translate("+k.left+","+k.top+")"),O&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),g.disabled(u.map(function(t){return t.disabled})).width(n).height(r).color(u.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!u[e].disabled})),a.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).call(g),_){h.scale(f)._ticks(gt.utils.calcTicksX(n/100,u)).tickSize(-r,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),a.select(".nv-x.nv-axis").call(h);var l=a.select(".nv-x.nv-axis > g").selectAll("g");if(l.selectAll("line, text").style("opacity",1),I){var c=function(t,e){return"translate("+t+","+e+")"};l.selectAll("text").attr("transform",function(t,e,n){return c(0,n%2==0?5:17)});var d=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;a.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return c(0,0===e||d%2!=0?17:5)})}D&&a.selectAll(".tick text").call(gt.utils.wrapTicks,G.xAxis.rangeBand()),T&&l.filter(function(t,e){return e%Math.ceil(u[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),L&&l.selectAll(".tick text").attr("transform","rotate("+L+" 0,0)").style("text-anchor",0<L?"start":"end"),a.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}W&&(v.scale(p)._ticks(gt.utils.calcTicksY(r/36,u)).tickSize(-n,0),a.select(".nv-y.nv-axis").call(v)),Y&&(m.width(n).height(r).margin({left:k.left,top:k.top}).svgContainer(t).xScale(f),i.select(".nv-interactive").call(m)),y.dispatch.on("stateChange",function(t){for(var e in t)P[e]=t[e];z.stateChange(P),G.update()}),x.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(s=s.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case N.grouped:g.stacked(!1);break;case"Stacked":case N.stacked:g.stacked(!0)}P.stacked=g.stacked(),z.stateChange(P),G.update()}}),z.on("changeState",function(n){void 0!==n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),P.disabled=n.disabled),void 0!==n.stacked&&(g.stacked(n.stacked),P.stacked=n.stacked,V=n.stacked),G.update()}),Y?(m.dispatch.on("elementMousemove",function(r){if(null!=r.pointXValue){var i,o,a,s,l=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=f.domain().indexOf(r.pointXValue);var n=t.values[o];void 0!==n&&(s=n.x,void 0===i&&(i=n),void 0===a&&(a=r.mouseX),l.push({key:t.key,value:G.y()(n,o),color:C(t,t.seriesIndex),data:t.values[o]}))}),m.tooltip.data({value:s,index:o,series:l})(),m.renderGuideLine(a)}}),m.dispatch.on("elementMouseout",function(t){m.tooltip.hidden(!0)})):(g.dispatch.on("elementMouseover.tooltip",function(t){t.value=G.x()(t.data),t.series={key:t.data.key,value:G.y()(t.data),color:t.color},b.data(t).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(t){b()}))}),n.renderEnd("multibarchart immediate"),G}return G.dispatch=z,G.multibar=g,G.legend=y,G.controls=x,G.xAxis=h,G.yAxis=v,G.state=P,G.tooltip=b,G.interactiveLayer=m,G.options=gt.utils.optionsFunc.bind(G),G._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return M},set:function(t){M=t}},showLegend:{get:function(){return E},set:function(t){E=t}},legendPosition:{get:function(){return F},set:function(t){F=t}},showControls:{get:function(){return S},set:function(t){S=t}},controlLabels:{get:function(){return N},set:function(t){N=t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return W},set:function(t){W=t}},defaultState:{get:function(){return B},set:function(t){B=t}},noData:{get:function(){return e},set:function(t){e=t}},reduceXTicks:{get:function(){return T},set:function(t){T=t}},rotateLabels:{get:function(){return L},set:function(t){L=t}},staggerLabels:{get:function(){return I},set:function(t){I=t}},wrapLabels:{get:function(){return D},set:function(t){D=!!t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,w=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},duration:{get:function(){return X},set:function(t){X=t,g.duration(X),h.duration(X),v.duration(X),n.reset(X)}},color:{get:function(){return C},set:function(t){C=gt.utils.getColor(t),y.color(C)}},rightAlignYAxis:{get:function(){return O},set:function(t){O=t,v.orient(O?"right":"left")}},useInteractiveGuideline:{get:function(){return Y},set:function(t){Y=t}},barColor:{get:function(){return g.barColor},set:function(t){g.barColor(t),y.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),gt.utils.inheritOptions(G,g),gt.utils.initOptions(G),G},gt.models.stackedArea=function(){"use strict";var p,g,h={top:0,right:0,bottom:0,left:0},v=960,m=500,y=gt.utils.defaultColor(),x=Math.floor(1e5*Math.random()),b=null,k=function(t){return t.x},w=function(t){return t.y},A=function(t,e){return!isNaN(w(t,e))&&null!==w(t,e)},e="stack",M="zero",C="default",S="linear",N=!1,E=gt.models.scatter(),n=250,F=function(t,e,n){t.display={y:n,y0:e}},_=function(t){return g(t.display.y+t.display.y0)},W=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");E.pointSize(2.2).pointDomain([2.2,2.2]);var O=gt.utils.renderWatch(W,n);function T(t){return O.reset(),O.models(E),t.each(function(t){var e=v-h.left-h.right,n=m-h.top-h.bottom;b=d3.select(this),gt.utils.initSVG(b),p=E.xScale(),g=E.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var r=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(C).offset(M).values(function(t){return t.values}).x(k).y(w).out(F)(r);var i=b.selectAll("g.nv-wrap.nv-stackedarea").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),a=o.append("defs"),l=o.append("g"),u=i.select("g");l.append("g").attr("class","nv-areaWrap"),l.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+h.left+","+h.top+")"),0==E.forceY().length&&E.forceY().push(0),E.width(e).height(n).x(k).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(t.map(function(t,e){return t.color=t.color||y(t,t.seriesIndex),t.color})),u.select(".nv-scatterWrap").datum(t).call(E),a.append("clipPath").attr("id","nv-edge-clip-"+x).append("rect"),i.select("#nv-edge-clip-"+x+" rect").attr("width",e).attr("height",n),u.attr("clip-path",N?"url(#nv-edge-clip-"+x+")":"");var c=d3.svg.area().defined(A).x(function(t,e){return p(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(_).interpolate(S),d=d3.svg.area().defined(A).x(function(t,e){return p(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y0)}),f=u.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});f.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return d(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),W.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),W.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),W.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),f.exit().remove(),f.style("fill",function(t,e){return t.color||y(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||y(t,t.seriesIndex)}),f.watchTransition(O,"stackedArea path").attr("d",function(t,e){return c(t.values,e)}),E.dispatch.on("elementMouseover.area",function(t){u.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),E.dispatch.on("elementMouseout.area",function(t){u.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),T.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(r=e=0;e<s.length;e++)r+=w(s[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),O.renderEnd("stackedArea immediate"),T}return T.dispatch=W,(T.scatter=E).dispatch.on("elementClick",function(){W.elementClick.apply(this,arguments)}),E.dispatch.on("elementMouseover",function(){W.elementMouseover.apply(this,arguments)}),E.dispatch.on("elementMouseout",function(){W.elementMouseout.apply(this,arguments)}),T.interpolate=function(t){return arguments.length?(S=t,T):S},T.duration=function(t){return arguments.length?(n=t,O.reset(n),E.duration(n),T):n},T.dispatch=W,T.scatter=E,T.options=gt.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},defined:{get:function(){return A},set:function(t){A=t}},clipEdge:{get:function(){return N},set:function(t){N=t}},offset:{get:function(){return M},set:function(t){M=t}},order:{get:function(){return C},set:function(t){C=t}},interpolate:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return k},set:function(t){k=d3.functor(t)}},y:{get:function(){return w},set:function(t){w=d3.functor(t)}},areaY1:{get:function(){return _},set:function(t){_=d3.functor(t)}},transformData:{get:function(){return F},set:function(t){F=d3.functor(t)}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},color:{get:function(){return y},set:function(t){y=gt.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":T.offset("zero"),T.order("default");break;case"stream":T.offset("wiggle"),T.order("inside-out");break;case"stream-center":T.offset("silhouette"),T.order("inside-out");break;case"expand":T.offset("expand"),T.order("default");break;case"stack_percent":T.offset(T.d3_stackedOffset_stackPercent),T.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,O.reset(n),E.duration(n)}}}),gt.utils.inheritOptions(T,E),gt.utils.initOptions(T),T},gt.models.stackedAreaChart=function(){"use strict";var b,k,w=gt.models.stackedArea(),A=gt.models.axis(),M=gt.models.axis(),C=gt.models.legend(),S=gt.models.legend(),N=gt.interactiveGuideline(),e=gt.models.tooltip(),E=gt.models.focus(gt.models.stackedArea()),F={top:10,right:25,bottom:50,left:60},_=null,W=null,O=null,T=gt.utils.defaultColor(),I=!0,D=!0,L="top",P=!0,B=!0,z=!1,R=!1,X=!1,Y=!0,V="TOTAL",H=gt.utils.state(),Z=null,n=null,G=d3.dispatch("stateChange","changeState","renderEnd"),j=250,q=["Stacked","Stream","Expanded"],K={},U=250;H.style=w.style(),A.orient("bottom").tickPadding(7),M.orient(z?"right":"left"),e.headerFormatter(function(t,e){return A.tickFormat()(t,e)}).valueFormatter(function(t,e){return M.tickFormat()(t,e)}),N.tooltip.headerFormatter(function(t,e){return A.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":M.tickFormat()(t,e)});var J=null,Q=null;S.updateState(!1);var r=gt.utils.renderWatch(G),$=(w.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:w.style()}}}),tt=function(t){return function(n){void 0!==n.style&&n.style,void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},et=d3.format("%");function nt(t){return r.reset(),r.models(w),P&&r.models(A),B&&r.models(M),t.each(function(g){var t=d3.select(this);gt.utils.initSVG(t);var e,n=gt.utils.availableWidth(W,t,F),r=gt.utils.availableHeight(O,t,F)-(R?E.height():0);if(nt.update=function(){t.transition().duration(U).call(nt)},nt.container=this,H.setter(tt(g),nt.update).getter($(g)).update(),H.disabled=g.map(function(t){return!!t.disabled}),!Z)for(e in Z={},H)H[e]instanceof Array?Z[e]=H[e].slice(0):Z[e]=H[e];if(!(g&&g.length&&g.filter(function(t){return t.values.length}).length))return gt.utils.noData(nt,t),nt;t.selectAll(".nv-noData").remove(),b=w.xScale(),k=w.yScale();var i=t.selectAll("g.nv-wrap.nv-stackedAreaChart").data([g]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),a=i.select("g");o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap");var s=o.append("g").attr("class","nv-focus");s.append("g").attr("class","nv-background").append("rect"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-stackedWrap"),s.append("g").attr("class","nv-interactive");o.append("g").attr("class","nv-focusWrap");if(D){var l=I&&"top"===L?n-j:n;if(C.width(l),a.select(".nv-legendWrap").datum(g).call(C),"bottom"===L){var u=A.height();F.bottom=Math.max(C.height()+u,F.bottom);var c=(r=gt.utils.availableHeight(O,t,F)-(R?E.height():0))+u;a.select(".nv-legendWrap").attr("transform","translate(0,"+c+")")}else"top"===L&&(_||F.top==C.height()||(F.top=C.height(),r=gt.utils.availableHeight(O,t,F)-(R?E.height():0)),a.select(".nv-legendWrap").attr("transform","translate("+(n-l)+","+-F.top+")"))}else a.select(".nv-legendWrap").selectAll("*").remove();if(I){var d=[{key:K.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=w.style(),style:"stack"},{key:K.stream||"Stream",metaKey:"Stream",disabled:"stream"!=w.style(),style:"stream"},{key:K.stream_center||"Stream Center",metaKey:"Stream_Center",disabled:"stream_center"!=w.style(),style:"stream-center"},{key:K.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=w.style(),style:"expand"},{key:K.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=w.style(),style:"stack_percent"}];j=q.length/3*260,d=d.filter(function(t){return-1!==q.indexOf(t.metaKey)}),S.width(j).color(["#444","#444","#444"]),a.select(".nv-controlsWrap").datum(d).call(S);var f=Math.max(S.height(),D&&"top"===L?C.height():0);F.top!=f&&(F.top=f,r=gt.utils.availableHeight(O,t,F)-(R?E.height():0)),a.select(".nv-controlsWrap").attr("transform","translate(0,"+-F.top+")")}else a.select(".nv-controlsWrap").selectAll("*").remove();i.attr("transform","translate("+F.left+","+F.top+")"),z&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),X&&(N.width(n).height(r).margin({left:F.left,top:F.top}).svgContainer(t).xScale(b),i.select(".nv-interactive").call(N)),a.select(".nv-focus .nv-background rect").attr("width",n).attr("height",r),w.width(n).height(r).color(g.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!g[e].disabled}));var p,h=a.select(".nv-focus .nv-stackedWrap").datum(g.filter(function(t){return!t.disabled}));(P&&A.scale(b)._ticks(gt.utils.calcTicksX(n/100,g)).tickSize(-r,0),B)&&(p="wiggle"===w.offset()?0:gt.utils.calcTicksY(r/36,g),M.scale(k)._ticks(p).tickSize(-n,0));function v(){P&&a.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r+")").transition().duration(U).call(A)}function m(){if(B){if("expand"===w.style()||"stack_percent"===w.style()){var t=M.tickFormat();J&&t===et||(J=t),M.tickFormat(et)}else J&&(M.tickFormat(J),J=null);a.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(M)}}if(R){E.width(n),a.select(".nv-focusWrap").attr("transform","translate(0,"+(r+F.bottom+E.margin().top)+")").datum(g.filter(function(t){return!t.disabled})).call(E);var y=E.brush.empty()?E.xDomain():E.brush.extent();null!==y&&x(y)}else h.transition().call(w),v(),m();function x(n){a.select(".nv-focus .nv-stackedWrap").datum(g.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return w.x()(t,e)>=n[0]&&w.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(U).call(w),v(),m()}w.dispatch.on("areaClick.toggle",function(n){1===g.filter(function(t){return!t.disabled}).length?g.forEach(function(t){t.disabled=!1}):g.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),H.disabled=g.map(function(t){return!!t.disabled}),G.stateChange(H),nt.update()}),C.dispatch.on("stateChange",function(t){for(var e in t)H[e]=t[e];G.stateChange(H),nt.update()}),S.dispatch.on("legendClick",function(t,e){t.disabled&&(d=d.map(function(t){return t.disabled=!0,t}),t.disabled=!1,w.style(t.style),H.style=w.style(),G.stateChange(H),nt.update())}),N.dispatch.on("elementMousemove",function(o){w.clearHighlights();var a,s,l,u=[],c=0,d=!0,f=!1;if(g.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){s=gt.interactiveBisect(t.values,o.pointXValue,nt.x());var n=t.values[s],r=nt.y()(n,s);if(null!=r&&0<r&&(w.highlightPoint(e,s,!0),f=!0),e!==g.length-1||f||w.highlightPoint(e,s,!0),void 0!==n){void 0===a&&(a=n),void 0===l&&(l=nt.xScale()(nt.x()(n,s)));var i="expand"==w.style()?n.display.y:nt.y()(n,s);u.push({key:t.key,value:i,color:T(t,t.seriesIndex),point:n}),Y&&"expand"!=w.style()&&null!=i&&(c+=i,d=!1)}}),u.reverse(),2<u.length){var i=nt.yScale().invert(o.mouseY),p=null;u.forEach(function(t,e){i=Math.abs(i);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);n<=i&&i<=r+n&&(p=e)}),null!=p&&(u[p].highlight=!0)}Y&&"expand"!=w.style()&&2<=u.length&&!d&&u.push({key:V,value:c,total:!0});var t=nt.x()(a,s),e=N.tooltip.valueFormatter();"expand"===w.style()||"stack_percent"===w.style()?(Q||(Q=e),e=d3.format(".1%")):Q&&(e=Q,Q=null),N.tooltip.valueFormatter(e).data({value:t,series:u})(),N.renderGuideLine(l)}),N.dispatch.on("elementMouseout",function(t){w.clearHighlights()}),E.dispatch.on("onBrush",function(t){x(t)}),G.on("changeState",function(n){void 0!==n.disabled&&g.length===n.disabled.length&&(g.forEach(function(t,e){t.disabled=n.disabled[e]}),H.disabled=n.disabled),void 0!==n.style&&(w.style(n.style),n.style),nt.update()})}),r.renderEnd("stacked Area chart immediate"),nt}return w.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=w.x()(t.point),t.point.y=w.y()(t.point),e.data(t).hidden(!1)}),w.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),nt.dispatch=G,nt.stacked=w,nt.legend=C,nt.controls=S,nt.xAxis=A,nt.x2Axis=E.xAxis,nt.yAxis=M,nt.y2Axis=E.yAxis,nt.interactiveLayer=N,nt.tooltip=e,nt.focus=E,nt.dispatch=G,nt.options=gt.utils.optionsFunc.bind(nt),nt._options=Object.create({},{width:{get:function(){return W},set:function(t){W=t}},height:{get:function(){return O},set:function(t){O=t}},showLegend:{get:function(){return D},set:function(t){D=t}},legendPosition:{get:function(){return L},set:function(t){L=t}},showXAxis:{get:function(){return P},set:function(t){P=t}},showYAxis:{get:function(){return B},set:function(t){B=t}},defaultState:{get:function(){return Z},set:function(t){Z=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return I},set:function(t){I=t}},controlLabels:{get:function(){return K},set:function(t){K=t}},controlOptions:{get:function(){return q},set:function(t){q=t}},showTotalInTooltip:{get:function(){return Y},set:function(t){Y=t}},totalLabel:{get:function(){return V},set:function(t){V=t}},focusEnable:{get:function(){return R},set:function(t){R=t}},focusHeight:{get:function(){return E.height()},set:function(t){E.height(t)}},brushExtent:{get:function(){return E.brushExtent()},set:function(t){E.brushExtent(t)}},margin:{get:function(){return F},set:function(t){void 0!==t.top&&(F.top=t.top,_=t.top),F.right=void 0!==t.right?t.right:F.right,F.bottom=void 0!==t.bottom?t.bottom:F.bottom,F.left=void 0!==t.left?t.left:F.left}},focusMargin:{get:function(){return E.margin},set:function(t){E.margin.top=void 0!==t.top?t.top:E.margin.top,E.margin.right=void 0!==t.right?t.right:E.margin.right,E.margin.bottom=void 0!==t.bottom?t.bottom:E.margin.bottom,E.margin.left=void 0!==t.left?t.left:E.margin.left}},duration:{get:function(){return U},set:function(t){U=t,r.reset(U),w.duration(U),A.duration(U),M.duration(U)}},color:{get:function(){return T},set:function(t){T=gt.utils.getColor(t),C.color(T),w.color(T),E.color(T)}},x:{get:function(){return w.x()},set:function(t){w.x(t),E.x(t)}},y:{get:function(){return w.y()},set:function(t){w.y(t),E.y(t)}},rightAlignYAxis:{get:function(){return z},set:function(t){z=t,M.orient(z?"right":"left")}},useInteractiveGuideline:{get:function(){return X},set:function(t){X=!!t,nt.interactive(!t),nt.useVoronoi(!t),w.scatter.interactive(!t)}}}),gt.utils.inheritOptions(nt,w),gt.utils.initOptions(nt),nt},gt.models.stackedAreaWithFocusChart=function(){return gt.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},gt.models.pie=function(){"use strict";var A={top:0,right:0,bottom:0,left:0},M=500,C=500,S=function(t){return t.x},N=function(t){return t.y},E=Math.floor(1e4*Math.random()),F=null,_=gt.utils.defaultColor(),W=d3.format(",.2f"),O=!0,T=!1,I="key",D=.02,L=!1,P=!1,B=!1,z=!0,R=0,X=!1,Y=!1,V=!1,H=!1,Z=0,G=.5,j=250,q=[],K=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),U=[],J=[],Q=gt.utils.renderWatch(K);function e(t){return Q.reset(),t.each(function(t){var e=M-A.left-A.right,n=C-A.top-A.bottom,a=Math.min(e,n)/2,s=[],r=[];if(F=d3.select(this),0===q.length)for(var i=a-a/10,o=G*a,l=0;l<t[0].length;l++)s.push(i),r.push(o);else G=z?(s=q.map(function(t){return(t.outer-t.outer/10)*a}),r=q.map(function(t){return(t.inner-t.inner/10)*a}),d3.min(q.map(function(t){return t.inner-t.inner/10}))):(s=q.map(function(t){return t.outer*a}),r=q.map(function(t){return t.inner*a}),d3.min(q.map(function(t){return t.inner})));gt.utils.initSVG(F);var u=F.selectAll(".nv-wrap.nv-pie").data(t),c=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+E).append("g"),d=u.select("g"),f=c.append("g").attr("class","nv-pie");c.append("g").attr("class","nv-pieLabels"),u.attr("transform","translate("+A.left+","+A.top+")"),d.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),d.select(".nv-pieLabels").attr("transform","translate("+e/2+","+n/2+")"),F.on("click",function(t,e){K.chartClick({data:t,index:e,pos:d3.event,id:E})}),U=[],J=[];for(l=0;l<t[0].length;l++){var p=d3.svg.arc().outerRadius(s[l]),g=d3.svg.arc().outerRadius(s[l]+5);!1!==Y&&(p.startAngle(Y),g.startAngle(Y)),!1!==H&&(p.endAngle(H),g.endAngle(H)),P&&(p.innerRadius(r[l]),g.innerRadius(r[l])),p.cornerRadius&&Z&&(p.cornerRadius(Z),g.cornerRadius(Z)),U.push(p),J.push(g)}var h=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:N(t)});h.padAngle&&V&&h.padAngle(V),P&&B&&(f.append("text").attr("class","nv-pie-title"),u.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return B}).style("font-size",Math.min(e,n)*G*2/(B.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+R+")"}));var v=u.select(".nv-pie").selectAll(".nv-slice").data(h),m=u.select(".nv-pieLabels").selectAll(".nv-label").data(h);v.exit().remove(),m.exit().remove();var y=v.enter().append("g");y.attr("class","nv-slice"),y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),z&&d3.select(this).select("path").transition().duration(70).attr("d",J[e]),K.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),z&&d3.select(this).select("path").transition().duration(50).attr("d",U[e]),K.elementMouseout({data:t.data,index:e})}),y.on("mousemove",function(t,e){K.elementMousemove({data:t.data,index:e})}),y.on("click",function(t,e){K.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),y.on("dblclick",function(t,e){K.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),v.attr("fill",function(t,e){return _(t.data,e)}),v.attr("stroke",function(t,e){return _(t.data,e)});y.append("path").each(function(t){this._current=t});if(v.select("path").transition().duration(j).attr("d",function(t,e){return U[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,P||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return U[e](n(t))}}),O){var x=[];for(l=0;l<t[0].length;l++)x.push(U[l]),T?P&&(x[l]=d3.svg.arc().outerRadius(U[l].outerRadius()),!1!==Y&&x[l].startAngle(Y),!1!==H&&x[l].endAngle(H)):P||x[l].innerRadius(0);m.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(X){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+x[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=a+10,t.innerRadius=a+15,"translate("+x[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",X?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var b={},k=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},w=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};m.watchTransition(Q,"pie labels").attr("transform",function(t,e){if(X){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+x[e].centroid(t)+") rotate("+n+")"}t.outerRadius=a+10,t.innerRadius=a+15;var r=x[e].centroid(t),i=w(t);if(t.value&&D<=i){var o=k(r);b[o]&&(r[1]-=14),b[k(r)]=!0}return"translate("+r+")"}),m.select(".nv-label text").style("text-anchor",function(t,e){return X?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=w(t),r="";if(!t.value||n<D)return"";if("function"==typeof I)r=I(t,e,{key:S(t.data),value:N(t.data),percent:W(n)});else switch(I){case"key":r=S(t.data);break;case"value":r=W(N(t.data));break;case"percent":r=d3.format("%")(n)}return r}),L&&m.each(function(t,e){if(this.getBBox){var n=this.getBBox(),r=x[e].centroid(t),i={x:r[0]+n.x,y:r[1]+n.y},o={x:i.x+n.width,y:i.y},a={x:i.x,y:i.y+n.height},s={x:i.x+n.width,y:i.y+n.height};t.visible=gt.utils.pointIsInArc(i,t,p)&&gt.utils.pointIsInArc(o,t,p)&&gt.utils.pointIsInArc(a,t,p)&&gt.utils.pointIsInArc(s,t,p)}}).style("display",function(t){return t.visible?null:"none"})}}),Q.renderEnd("pie immediate"),e}return e.dispatch=K,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return q},set:function(t){q=t}},width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return C},set:function(t){C=t}},showLabels:{get:function(){return O},set:function(t){O=t}},title:{get:function(){return B},set:function(t){B=t}},titleOffset:{get:function(){return R},set:function(t){R=t}},labelThreshold:{get:function(){return D},set:function(t){D=t}},hideOverlapLabels:{get:function(){return L},set:function(t){L=t}},valueFormat:{get:function(){return W},set:function(t){W=t}},x:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return E},set:function(t){E=t}},endAngle:{get:function(){return H},set:function(t){H=t}},startAngle:{get:function(){return Y},set:function(t){Y=t}},padAngle:{get:function(){return V},set:function(t){V=t}},cornerRadius:{get:function(){return Z},set:function(t){Z=t}},donutRatio:{get:function(){return G},set:function(t){G=t}},labelsOutside:{get:function(){return T},set:function(t){T=t}},labelSunbeamLayout:{get:function(){return X},set:function(t){X=t}},donut:{get:function(){return P},set:function(t){P=t}},growOnHover:{get:function(){return z},set:function(t){z=t}},pieLabelsOutside:{get:function(){return T},set:function(t){T=t,gt.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return T},set:function(t){T=t,gt.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return W},set:function(t){W=t,gt.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},duration:{get:function(){return j},set:function(t){j=t,Q.reset(j)}},y:{get:function(){return N},set:function(t){N=d3.functor(t)}},color:{get:function(){return _},set:function(t){_=gt.utils.getColor(t)}},labelType:{get:function(){return I},set:function(t){I=t||"key"}}}),gt.utils.initOptions(e),e},gt.models.pieChart=function(){"use strict";var c=gt.models.pie(),d=gt.models.legend(),e=gt.models.tooltip(),f={top:30,right:20,bottom:20,left:20},p=null,g=null,h=null,n=!1,v=!0,m="top",r=gt.utils.defaultColor(),y=gt.utils.state(),x=null,i=null,o=250,b=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return c.valueFormat()(t,e)});var a=gt.utils.renderWatch(b),k=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},w=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function A(t){return a.reset(),a.models(c),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n,r=gt.utils.availableWidth(g,e,f),i=gt.utils.availableHeight(h,e,f);if(A.update=function(){e.transition().call(A)},A.container=this,y.setter(w(t),A.update).getter(k(t)).update(),y.disabled=t.map(function(t){return!!t.disabled}),!x)for(n in x={},y)y[n]instanceof Array?x[n]=y[n].slice(0):x[n]=y[n];if(!t||!t.length)return gt.utils.noData(A,e),A;e.selectAll(".nv-noData").remove();var o=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=o.select("g");if(a.append("g").attr("class","nv-pieWrap"),a.append("g").attr("class","nv-legendWrap"),v)if("top"===m)d.width(r).key(c.x()),o.select(".nv-legendWrap").datum(t).call(d),p||d.height()===f.top||(f.top=d.height(),i=gt.utils.availableHeight(h,e,f)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")");else if("right"===m){var l=gt.models.legend().width();r/2<l&&(l=r/2),d.height(i).key(c.x()),d.width(l),r-=d.width(),o.select(".nv-legendWrap").datum(t).call(d).attr("transform","translate("+r+",0)")}else"bottom"===m&&(d.width(r).key(c.x()),o.select(".nv-legendWrap").datum(t).call(d),f.bottom=d.height(),i=gt.utils.availableHeight(h,e,f),o.select(".nv-legendWrap").attr("transform","translate(0,"+i+")"));else s.select(".nv-legendWrap").selectAll("*").remove();o.attr("transform","translate("+f.left+","+f.top+")"),c.width(r).height(i);var u=s.select(".nv-pieWrap").datum([t]);d3.transition(u).call(c),d.dispatch.on("stateChange",function(t){for(var e in t)y[e]=t[e];b.stateChange(y),A.update()}),b.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),y.disabled=n.disabled),A.update()})}),a.renderEnd("pieChart immediate"),A}return c.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:A.x()(t.data),value:A.y()(t.data),color:t.color,percent:t.percent},n||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){e()}),A.legend=d,A.dispatch=b,A.pie=c,A.tooltip=e,A.options=gt.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return i},set:function(t){i=t}},showTooltipPercent:{get:function(){return n},set:function(t){n=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return x},set:function(t){x=t}},color:{get:function(){return r},set:function(t){r=t,d.color(r),c.color(r)}},duration:{get:function(){return o},set:function(t){o=t,a.reset(o),c.duration(o)}},margin:{get:function(){return f},set:function(t){void 0!==t.top&&(f.top=t.top,p=t.top),f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}}}),gt.utils.inheritOptions(A,c),gt.utils.initOptions(A),A},gt.version="1.8.6-dev"}();
//# sourceMappingURL=nv.d3.min.js.map